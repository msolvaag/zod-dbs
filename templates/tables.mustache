// This file is auto-generated by zod-pg. Do not edit this file directly.

import { z } from 'zod';
{{#hasJsonSchemaImports}}
import { {{#jsonSchemaImports}}{{name}}{{^last}}, {{/last}}{{/jsonSchemaImports}} } from '{{{jsonSchemaImportLocation}}}';
{{/hasJsonSchemaImports}}

{{#enums}}
export const {{constantName}} = [{{#values}}'{{.}}',{{/values}}] as const;
{{/enums}}

export const {{tableReadSchemaName}} = z.object({
{{#readableColumns}}
    /**
    * dataType: {{udtName}}
    * defaultValue: {{{defaultValue}}}
    */
    {{name}}: {{{renderedReadType}}},
{{/readableColumns}}
}).transform(data => ({
{{#readableColumns}}
    {{propertyName}}: {{#renderedReadTransform}}data.{{name}}{{/renderedReadTransform}},
{{/readableColumns}}
}));

const TableWriteSchema = z.object({
{{#writableColumns}}
    /**
    * dataType: {{udtName}}
    * defaultValue: {{{defaultValue}}}
    */
    {{propertyName}}: {{{renderedWriteType}}},
{{/writableColumns}}
});

export const {{tableInsertSchemaName}} = TableWriteSchema.transform(data => ({
{{#writableColumns}}
    {{name}}: {{#renderedWriteTransform}}data.{{propertyName}}{{/renderedWriteTransform}},
{{/writableColumns}}
}));

export const {{tableUpdateSchemaName}} = TableWriteSchema.partial().transform(data => ({
{{#writableColumns}}
    {{name}}: {{#renderedWriteTransform}}data.{{propertyName}}{{/renderedWriteTransform}},
{{/writableColumns}}
}));

type TableReadRecord = z.output<typeof {{tableReadSchemaName}}>;
type TableInsertRecord = z.input<typeof {{tableInsertSchemaName}}>;

{{#enums}}
export type {{typeName}} = (typeof {{constantName}})[number];{{/enums}}

/**
* Represents a database record from the "{{schemaName}}.{{tableName}}"" table.
*/
export interface {{tableReadRecordName}} {
{{#readableColumns}}
{{#description}}
    /**
     * {{{description}}}
     */
{{/description}}
    {{propertyName}}: TableReadRecord['{{propertyName}}'];
{{/readableColumns}}
}

/**
* Represents an insertable database record from the "{{schemaName}}.{{tableName}}"" table.
*/
export interface {{tableInsertRecordName}} {
{{#writableColumns}}
    /**
    {{#description}}* {{{description}}}
    {{/description}}{{#maxLen}}* @maxLen: {{maxLen}}
    {{/maxLen}}{{#defaultValue}}* @default: {{{defaultValue}}}
    {{/defaultValue}}{{#isDeprecated}}* @deprecated {{isDeprecatedReason}}
    {{/isDeprecated}}*/
    {{propertyName}}{{#isNullable}}?{{/isNullable}}: TableInsertRecord['{{propertyName}}'];
{{/writableColumns}}
}

/**
* Represents an updateable database record from the "{{schemaName}}.{{tableName}}"" table.
*/
export type {{tableUpdateRecordName}} = Partial<{{tableInsertRecordName}}>;
